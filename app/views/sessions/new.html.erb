<% if current_entity.nil? %>
  <style>
    .fa-briefcase {
      font-size: 100px;
    }
    .custom-color {
      background: #8EB4E3;
    }
    .hover:hover {
      background: #8EB4E3;
      color: white;
    }
  </style>

  <div class="container-fluid mt-5">
    <div class="row d-flex justify-content-center">
      <div class="col-7">
        <div class="h3 my-4"><%= LABELS[:login] %></div>
      </div>
      <div class="col-3"></div>
    </div>

    <div class="row g-0 d-flex justify-content-center align-items-stretch">
      <div class="col-7 border border-dark">
        <div class="px-5 py-4">
          <%= form_with url: login_path, method: :post, local: true do |form| %>
            
            <!-- Email Field -->
            <div class="mb-3">
              <%= form.label :email, "メールアドレス", class: "form-label" %>
              <div class="input-group">
                <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                <%= form.email_field :email, class: "form-control ps-3", placeholder: "メールアドレスを入力してください", required: true %>
              </div>
            </div>

            <!-- Password Field -->
            <div class="mb-4">
              <%= form.label :password, "パスワード", class: "form-label" %>
              <div class="input-group">
                <span class="input-group-text"><i class="fas fa-lock"></i></span>
                <%= form.password_field :password, class: "form-control ps-3", placeholder: "パスワードを入力してください", required: true %>
              </div>
            </div>

            <!-- Remember Me Checkbox -->
            <div class="mb-2 form-check">
              <%= form.check_box :remember_me, class: "form-check-input" %>
              <%= form.label :remember_me, "ログイン状態を保持する", class: "form-check-label" %>
            </div>

            <div class="mb-3 text-end">
              <span>
                <a class="text-decoration-none" href="/passwordreset">パスワードをお忘れですか？</a>
              </span>
            </div>

            <!-- Submit Button -->
            <div class="d-flex justify-content-end mt-4">
              <%= form.submit "ログイン", class: "btn custom-color hover" %>
            </div>
          <% end %>
        </div>
      </div>

      <div class="col-3">
         <%= render "shared/youkoso" %>
      </div>
    </div>

    <!-- Footer: Sign-up Link -->
    <div class="row d-flex justify-content-center mt-3">
      <div class="col-7">
        <h5 class="h6">アカウントをお持ちますか？<a href="<%= register_path %>" class="text-decoration-none">登録</a></h5>
      </div>
      <div class="col-3"></div>
    </div>
  </div>
<% else %>
  <!-- Optionally, you can show a message or redirect -->
  <div class="container">
    <p>すでにログインしています。<a href="<%= root_path %>">ホームページへ戻る</a></p>
  </div>
<% end %>
